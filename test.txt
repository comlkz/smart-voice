{"segments":[{"text":"唉你好你好。","role":1},{"text":"唉你好能听到吗？能听到。","role":1},{"text":"啊","role":2},{"text":"你那边准备好了吗？","role":1},{"text":"嗯准备好了","role":2},{"text":"行，那我们开始吧你先自我介绍一下，吧嗯好的。","role":1},{"text":"嗯面试官你好，我叫李孔柱，","role":2},{"text":"嗯于13年毕业于武汉科技大学计算机科学技术学院，","role":2},{"text":"有11年的加法开发工作经验，","role":2},{"text":"我先后在多家公司任职，","role":2},{"text":"嗯所负责的领域包括邮箱、保险、","role":2},{"text":"银行、","role":2},{"text":"支付、地产等多个行业有丰富的项目开发工作经验。","role":2},{"text":"我上家公司是在深圳思维有限公司软件科技有限公司任职，","role":2},{"text":"所担任的职位是Java高级开发工程师，","role":2},{"text":"我先后负责过企业企客通、智能工牌、用户中心，全渠道来源","role":2},{"text":"和线索管理等多个模块的设计与开发，嗯在我的带领下，我和我的团队先后完成了多个项目的","role":2},{"text":"按时交付与顺利上线，","role":2},{"text":"并保证了项目的稳定运行，为公司带来带来了较大的收益。","role":2},{"text":"嗯我认为我丰富的项目经验和扎实的技术功底能够胜任这份工作，","role":2},{"text":"希望有机会能够加入贵公司共同进步。","role":2},{"text":"嗯以上是我介绍。","role":2},{"text":"那你参加我的面试啊就是我看一下。就是","role":1},{"text":"呃嗯","role":1},{"text":"就是","role":1},{"text":"最近的是智能","role":1},{"text":"智能工牌这个系统是你你负责的是吗？是的。","role":1},{"text":"啊可以就是说介绍一下这个系统，嘛然后这个系统里面就是我们在技术上考虑的一些点。","role":1},{"text":"分享一下，好的。","role":1},{"text":"啊是这样的，我觉得智能控盘项目其实是我在职业生活工作中嗯也是面临最大挑战的一个项目。","role":2},{"text":"首先它这个项目是嗯的工","role":2},{"text":"主要功能是指在呃","role":2},{"text":"呃进入顾问和客户的对话数据，并提炼出相关的客户标签，","role":2},{"text":"嗯方便顾问嗯快速的识别这个客户的购房意向，并且能够提升顾问的服务质量。","role":2},{"text":"他的呃我们在系统中主要负责就是说对会顾问和客户的会话数据","role":2},{"text":"进行分析，并且呃的提出相关的疑点进行考核。","role":2},{"text":"是这样的。","role":2},{"text":"嗯在这个系统中遇到的一些困难，首先这个系统有呃多个参与者，","role":2},{"text":"它包括我们上游的呃硬件厂商和下游的嗯","role":2},{"text":"地产商，所以它的分布式数数据的一致性啊这块是需要考虑的一个部分。","role":2},{"text":"第二点是顾问和客户的对话数据，它其实是量很大的，所以它拥有海量的数据量，","role":2},{"text":"这个海量数据的存储也是需要考虑的一部分。","role":2},{"text":"第三点就是说在这个绘画整个绘画分析流程它其实很长，它包括十几个步骤，","role":2},{"text":"如何设计出一个可扩展性和可维护性的代码，也是在我的系统中需要考虑的一部分的事情。","role":2},{"text":"嗯对于这三部分事情，我可能需要一个一个一个相关的介绍一下我的实验方式，","role":2},{"text":"可能需要点时间。","role":2},{"text":"就分开喂喂就是分享一下嘛就是那个数据一致性。","role":1},{"text":"就是","role":1},{"text":"就","role":1},{"text":"细一点就是看一下我们是就那边是就考虑的点是有哪些，就说我们具体是怎么实现的。","role":1},{"text":"是","role":2},{"text":"呃首先数据一致性其实也就是类似于分布式事务的一个保证，嘛是不是？","role":2},{"text":"呃分布式事务在业界里面其实有多种方式，","role":2},{"text":"嗯最常用的几种方式，首先是阿里的c特艾特，","role":2},{"text":"一个框架，嘛","role":2},{"text":"它是一个强一致性的。","role":2},{"text":"然后包括呃 E uh rock and red，","role":2},{"text":"Roque的mq的食物也是能够保证一致性的。","role":2},{"text":"但是呢在我们系统中，因为我考虑到时间成本，所以我是采用的本地消息表的形式来","role":2},{"text":"保证是否一致性。","role":2},{"text":"嗯嗯因为。","role":2},{"text":"嗯","role":1},{"text":"本地消息表的形式是这样的，是我们在收呃在就是说我们系统是涉及到三个方面，嘛","role":2},{"text":"然后我在本地呃","role":2},{"text":"我是相当于在通过卡不卡在发消息的时候，我会把数据写入到","role":2},{"text":"再发给卡夫卡，同时我会写入到数据库里面去，保证我的数据能够最终能够","role":2},{"text":"发送成功。","role":2},{"text":"然后在消息接收方我会先","role":2},{"text":"在接收到消息的时候，我顺便存储到数据库里面去。当然如果这个消息","role":2},{"text":"呃","role":2},{"text":"消费失败后，我会采用这些任务的方式去来去从事这个","role":2},{"text":"功能，","role":2},{"text":"保证他的事物能够达到最终的一致性。","role":2},{"text":"嗯包括如果我涉及到第三方的系统的话，","role":2},{"text":"像上我是采用了一个定时任务去嗯达到最大努力通知的这种方式，去","role":2},{"text":"实现下最终的一致性的结果。","role":2},{"text":"这一块就是刚刚说的，其实就是你一致性是保证哪里跟哪里的一致是指","role":1},{"text":"是","role":1},{"text":"哪里跟一致嘛是不是？","role":1},{"text":"现在是首先是我们因为我这个系统是有三个餐饮方，嘛","role":2},{"text":"首先是外部系统和我们","role":2},{"text":"自己内部系统交互，其实是采就是是采用最大努力通知的方式来保证的。","role":2},{"text":"然后系统内部之间，呢因为他们也是有多个服务之间的调用，这个时候我们是采用卡卡，内部是怎么卡不卡，","role":2},{"text":"加上本地消息本来是","role":2},{"text":"数形式来保证数据一致性的。","role":2},{"text":"啊就是","role":1},{"text":"我是不是可以这样说，就外部的话你是通过最大努力，也就是通过从事的方式去","role":1},{"text":"去去保证去同步到他们是吧？","role":1},{"text":"嗯","role":1},{"text":"对，它内部的话就相当于是说","role":1},{"text":"呃是通过先入库，然后那入库之后呢嗯入库。","role":1},{"text":"的同时会发卡卡消息吗？","role":2},{"text":"嗯嗯然后这时候嗯","role":1},{"text":" ok就就这两个措施是吧？你你的本地信息表是这个意思，ok那就是如果外部跟内部它最大努力，那如果说现在","role":1},{"text":"某某种各种原因那还是不一致怎么办？就会不会出现这种情况。","role":1},{"text":"嗯其实也会出现就是说最大努力通知它，其实你像你像支付系统里面经常会出现这种情况，嘛","role":2},{"text":"如果当他重申了6次到7次还是没有通知到的话，其实这里面需要在外部系统跟内部系统之间","role":2},{"text":"有一个内部我不我们系统之间其实需要一个查询机制，","role":2},{"text":"就是说会有我这边会有一个查询，","role":2},{"text":"根据录音就是这边录音有提供录音的查询接口，查询这个录音的信查询信息，","role":2},{"text":"然后对方就是说可以通过调用这个接口去查询具体的状态，","role":2},{"text":"嗯来保证最终一致。","role":2},{"text":"那那就查询查询是不断的询吗？有没有次数的限制？啊","role":1},{"text":"呃我之前。","role":2},{"text":"说你一直他查他是","role":1},{"text":"没有最终","role":1},{"text":"没没有最终","role":1},{"text":"的结果，或者说一直都查不到，","role":1},{"text":"那这种情况也会出现。那","role":1},{"text":"是不是？啊是的，这种情况呢其实你可以就是说假如说我们是查询，就是说近两天就是说有一个首先第一个是","role":2},{"text":"外部系统之间，它应该是在就是说有一个嗯时间的范围，","role":2},{"text":"就是说最近的一天到两天，如果这两天还是没有话，那相当于这个数据肯定是有问题的数据，","role":2},{"text":"或者说压根就没有情况。","role":2},{"text":"然后再加上","role":2},{"text":"外部系统肯定每天它都有对账的情情况，嘛就是说我们会类似于支付里面有对账单的功能，","role":2},{"text":"你可以把今天数据跟我们这边数据去统计，发现数据有差别的情况单独处理。","role":2},{"text":"然后第二个就是说如何我们这个内部系统之间，我我们这个系统如何限制外部，","role":2},{"text":"我限制了调用这个情况，","role":2},{"text":"这个时候我们可以采用限流的方式，就是通过瑞丽斯方里面，然后采用令牌桶的方式进行限流，","role":2},{"text":"这样也是能够保证的。","role":2},{"text":"嗯如果说现在因为我们也遇到这种情况，就是我们跟银行之间也会出现一些就是","role":1},{"text":"数据同步的一些问题，那但是他们现跟我们就是说他们对我们调用量是有","role":1},{"text":"有有限制，就说你一天假如说我们现在这边有1万个单，最多一天就只能调我2万次，你超过就不行，那如果对于这种话的话，我们有没有","role":1},{"text":"好的办法，就是你你现在外部跟内部是吧，尽量最大努力通知，其实你也有限制，","role":1},{"text":"最终你查询也不能采用多多种，","role":1},{"text":"你觉得对账又第二天了，那你觉得有没有更好的一种方式，就是说如果我们解决这个调量，","role":1},{"text":"也可以说实时性比较高，","role":1},{"text":"或者我不要等到第二天你用你绝对用不掉，","role":1},{"text":"更好的办法去解决这个问题。","role":1},{"text":"嗯其实也是有的，首先就是说我认为就是说第一就是说当他当你就是说支付等待等待，","role":2},{"text":"我以支付为例可以吗？","role":2},{"text":"就是说因为支付讲这块可能更好一点。","role":2},{"text":"是这样的，就是说当你在嗯提交支付完后，你是处于一个待待支付的状态吗？","role":2},{"text":"嗯在待支付状态，如果你呃你会等待5分钟，第一次等的更新时间应该是在5分钟之内的，","role":2},{"text":"5分钟之后，然后你会去主动的，如果这个时候你发现这个支付还在等待中，","role":2},{"text":"你会先去查一次这个消息，","role":2},{"text":"去向那个系统那边去查一次。","role":2},{"text":"如果说这个数据还是没有的话，我认为就是说你可以在","role":2},{"text":"推啊往延迟队列里面推，类似于用rpm或什么去实现，","role":2},{"text":"然后保证就是说一个小时或几个小时后，然后再去调一次，这样的话你就是说","role":2},{"text":"可以极大的限制你这个调动频率，","role":2},{"text":"然后也是能够在一天之内，假如说呃你一个一个订单，你可以就是说","role":2},{"text":"嗯最多会掉5次，","role":2},{"text":"然后这样分散出来的效果也是能够进","role":2},{"text":"最大努力的能够达到这个你的数据能够同步出来。","role":2},{"text":"嗯嗯","role":1},{"text":"都同意。","role":1},{"text":"就是说我第一次相当于5分钟查询一次，甚至第二次我可能在两个小时之后查询一次，","role":2},{"text":"这样的话也是能够保证它。","role":2},{"text":"的","role":1},{"text":"就是查询的频率是吧？是。","role":1},{"text":"这才是平均和间隔。嘛嗯","role":1},{"text":"还有呢。","role":1},{"text":"嗯嗯","role":1},{"text":"嗯还有就是说因为你是对账是一天来对账嘛是不是？","role":2},{"text":"然后其实就是说嗯","role":2},{"text":"这嗯在支付情况中，其实正常情况下，他支付一一种是支付失败导致的一种，第二种是你可以跟跟业务逻辑来判断，就是说","role":2},{"text":"如果它错误码里面是包含如果能够","role":2},{"text":"直接通过错误码能够知道这个情况是支付失败，哈你相当于也不需要异步通知或什么东西直接失败了。","role":2},{"text":"如果是没有情况下，你可能我认为是","role":2},{"text":"还是需要查询，但是你在查询之前是每隔一个小时，你可以查询一下他这一个小时之内的对账数据进行一个简单的对比，","role":2},{"text":"然后查询","role":2},{"text":"出像引导的数据，然后去做一些查询，如果他有提供这样的机制的话。","role":2},{"text":"你觉得对账它主要的作用是怎么样子的？","role":1},{"text":"对账就是你们应该做了很多业务都有对账，你觉得对账它解决的问题是什么？","role":1},{"text":"对账解决问题其实在支付里面对账是用的比较多的，就是说它其实涉及到的是上一天会将上一天数据去","role":2},{"text":"进行对比，嘛第一点就是说你能够解决问题，第一个是","role":2},{"text":"呃你在支付中就是说前前后中间就是说如果有","role":2},{"text":"呃订单遗漏的情况，你需要进行一次对比，然后保证你的数据能够","role":2},{"text":"最终呢是可靠的。","role":2},{"text":"第二个是就是说啊我每天的数据，我要知道我每天的交易流水，","role":2},{"text":"然后中间如果有一些异常的数据，我要及时去发现这些数据。","role":2},{"text":"那我再了解更细一点，就是我们对账就","role":1},{"text":"对账它整一个框怎么是怎么实现的。就是","role":1},{"text":"就是假如说就刚说支付的支付流水的对账，你们在实践上就是在","role":1},{"text":"是怎么设计或者是在代码层面上是怎么嗯。","role":1},{"text":"其实怎么说，呢因为我们这次我现在做的是地产行业，其实对账其实倒是没有特别大的，","role":2},{"text":"支付行业的话对对对账对账可能会有比较高的要求。","role":2},{"text":"然后我只是说一下我自己的个人的想法，因为我的确是没有进行实验过特别复杂的对账系统。","role":2},{"text":"嗯对于对账首先就是说如果你的量特别大的话，就是说你肯定是","role":2},{"text":"先要就是说","role":2},{"text":"提取出它的一个总的一个每天的详情，","role":2},{"text":"然后把每天的总的详情跟我们现在数据去我们系统内部数据去进行对比。","role":2},{"text":"然后如果有差异的话，那我们就要做第二步，就是说拿取他提取他对方的","role":2},{"text":"对账交易单，","role":2},{"text":"它可能是一个很大量你要分别去，","role":2},{"text":"提取然后提取到以后，先先是保存到我们最","role":2},{"text":"的数据库的一个临时表或者一个落地式里面去，","role":2},{"text":"然后我们拿，然后最早我们这边的对账那个交易流水去拿取出来，","role":2},{"text":"然后我们可以按照用深刻的交易方式，然后去查询出","role":2},{"text":"啊查阅数据，或者说如果想要快速的话，直接在那个历史内部里面通过两个ready它","role":2},{"text":" set里面去做一个内存比较，也能去做差异数据，这样的话也是能够解决相关问题的。","role":2},{"text":"如果量特别大的话，我建议就是采用那个相关的大数据的","role":2},{"text":"处理方式去进行一些","role":2},{"text":"相关的处理。","role":2},{"text":"对账有可能出现多账少账跟差账这三个情况。","role":1},{"text":"多账是什么意思？啊","role":1},{"text":"嗯这个就涉及到一个专业的那边的支付相关内容，嘛多账的情况，其实","role":2},{"text":"这块因为我对他的了解不是特别深，","role":2},{"text":"呃因为这的确是","role":2},{"text":"我","role":2},{"text":"相关摄影领域不是特别那个","role":2},{"text":"我谈一下我自己理解吧？","role":2},{"text":"嗯嗯没关系，这个我们可以跳过就是刚刚你说的就是刚才说数据一致，然后你通过","role":1},{"text":"那个本地信息表上的一个措施，然后保证数据的一致，对不对？","role":1},{"text":"然后最后有对账做一个兜底。那第二个就是关于数据量的话，就是","role":1},{"text":"你们现在的这个这个数据量大概有多少？","role":1},{"text":"嗯其实我们现在数据量就是说，因为我们最大量是在一个就是对话内容的表，","role":2},{"text":"这张表其实说每天增长有几百万的数据，现在其实已经上线到已经有四五亿的数据了。","role":2},{"text":"嗯那你们是在数据层面上是怎么设计的就怎怎么存储的？","role":1},{"text":"是这样的，因为这个数据呢嗯因为我们这个我们是要按照查查询到聊天的内容，嘛","role":2},{"text":"所以说其实我们还是需要就是说以消息原有的形式去保存到数据表里面去。","role":2},{"text":"但是呢我们本身的特色是这样的，我们是呃","role":2},{"text":"正常情况下，我们的客户只是会查询近三个月的录音数据，","role":2},{"text":"如果说是历史的在更古老的历史数据的话，它可能需要经过一呃一定的","role":2},{"text":"操作步骤，然后去进行查询呃才能查询出来，所以说我们会对于","role":2},{"text":"数据进行冷热备份。","role":2},{"text":"是这样的。","role":2},{"text":"然后如果涉及到一些，嗯嗯同同时我们会如果需要根据模糊查询的话，我们会把这个数据存到ADB里面去，","role":2},{"text":"类似于es的这种方式，","role":2},{"text":"然后能够有个全表进行查询。","role":2},{"text":"嗯嗯","role":2},{"text":"你们有做分表吗？","role":1},{"text":"嗯分表我们是采用冷热备份的，就是说将历史数据传嗯存储到历史嗯","role":2},{"text":"某历史表里面去，","role":2},{"text":"三个月或几个月之前的数据存到历史比较有趣。","role":2},{"text":"噢就相当于其实只是。","role":1},{"text":"那那现在还是用单表是吗？","role":1},{"text":"嗯其实目前就是说嗯也是用的也是单表，但是也是有","role":2},{"text":"是分为嗯热表和归档表这样的说法。","role":2},{"text":"嗯就算现在一天几百万的话，现在都是存存在一张表里面去，","role":1},{"text":"然后会经过通过时间去做一个备份，是的。","role":1},{"text":"嗯","role":1},{"text":"对这样子是吗？嗯","role":1},{"text":"因为目前是其实我们业务逻辑这样做已经能够达到需求了，","role":2},{"text":"如果说你嗯就。","role":2},{"text":"查询的场景现在都是直接在es里面去查是吗？","role":1},{"text":"嗯也是分情况的，就是说如果是实时量比较高的，","role":2},{"text":"其实我们内部因为没有，因为我当时考虑到就是说时间成本，就是说我在内部直接是在卖这层做一个那个","role":2},{"text":"嗯分发策略，就是说是查询当最近的还是查询历史表有。","role":2},{"text":"第二个就是说如果它涉及到多表查询的话，我们是从一s或者那种","role":2},{"text":"就是说有一些其他的一些信息，我们通过一s","role":2},{"text":"但是我们本身因为。","role":2},{"text":"你说几百万了，这个是什么是什么？","role":1},{"text":"就是是什么数据？嘛就是你刚才用就是对话数据。","role":1},{"text":"就是","role":1},{"text":"嗯就是你像我跟你你的在这个聊天，嘛","role":2},{"text":"他所有对话数据是这张表比较大。嘛","role":2},{"text":"嗯那这个表是没有做分表的。","role":1},{"text":"对不对？这张表是做那个冷热","role":2},{"text":"处理的。","role":2},{"text":"只是说做了备案，嘛嗯","role":1},{"text":"啊归档归档而已嘛是。","role":1},{"text":"那也就说一天几百万就存在这个表里面，那我们的查询场景那","role":1},{"text":"是直接查这个库，还是说把这个数据查","role":1},{"text":"导到es里面，然后再去查。","role":1},{"text":"嗯我们是导到APP里面去查的，因为我们es可能就是。","role":2},{"text":"类似于啊啊类似于es的东西，嘛对吧？","role":1},{"text":"唉","role":1},{"text":"就是查询的话都在那里查了。","role":1},{"text":"嗯没有更新吗？","role":1},{"text":"更新是这样的，就是说更新的话相当于我们禁止更新近三个月数据是直接更新到马赛克里面去的。","role":2},{"text":"查询呢就是说我们也是分情况的，就是说如果他有按照模糊搜索的话，我们是通过ATP里面查的，","role":2},{"text":"如果他只是查询就是说录音详情的话，我们还是在","role":2},{"text":"嗯马赛克里面查的，","role":2},{"text":"但是我们因为我是根据录音时间去进行拆分的，嘛","role":2},{"text":"如果我是能够随时知道我这个表这个数据是路由到历历史表，还是路由到当前的这张表里面去的。","role":2},{"text":"嗯嗯","role":2},{"text":"嗯也就是说在数据量方面就是做了一个归档的这样子的一个操作是的，然后去","role":1},{"text":"嗯保存多久。","role":1},{"text":"呀嗯我们是就是说我们也分梯度的，","role":2},{"text":"近3个月的我们是在一张表，然后3~6个月的，我们是也是在另外一张表6个月之前的是在也是","role":2},{"text":"是在历史表里面去，也是分按照梯度来区分。","role":2},{"text":"一天一天几百万是指300万还是5,003,000？","role":1},{"text":"一天几百万，就是说两应该是在200万左右。吧","role":2},{"text":"啊一天200万以后保存多久？","role":1},{"text":"保存在一个保存个30天嘛热数据，嘛然后热数据相当于30天到六六十天左右，","role":2},{"text":"也最多11.2个亿嘛是吧？","role":2},{"text":"然后我会把这这是每天我会把呃30天前的数据然后归档到另外一张表里面去，嘛","role":2},{"text":"这样的话这个数据量会降降低。","role":2},{"text":"噢原来是买蛇口是吧？嗯","role":1},{"text":"嗯","role":1},{"text":" Sidi用my surcoat","role":1},{"text":"保存。","role":1},{"text":"是不。","role":2},{"text":"线上不会有问题吗？","role":1},{"text":"线上目前因为这张表我没有去做任何的交易操作，","role":2},{"text":"然后也加了合适的索引，1.2个亿数据，其实目前还是比较稳定的，然后再加上阿里云的APP买赛克嘛它其实也是比较强悍的。","role":2},{"text":"然后","role":1},{"text":"我看你第三个措施，就是说可扩展性可维护性你们也也","role":1},{"text":"你嗯","role":1},{"text":"也做了一些方面的一个就是说错错啊那主要是有什么？","role":1},{"text":"就是","role":1},{"text":"技术上的一些设计。啊","role":1},{"text":"是这个是涉及到。","role":2},{"text":"嗯","role":1},{"text":"这个涉及到代码上的一些就是说设计模式相关的。","role":2},{"text":"首先我们一个绘画它其实分为10嗯有十几个步骤，吧","role":2},{"text":"然后它每个步骤是这个 A步骤，完成以后再执行完b的步骤，所以它其实类似一种状态机的模式，","role":2},{"text":"但是它比状态机稍微简单一点点。","role":2},{"text":"所以说在实现上面说，我是其实中间我是通过嗯也是通过卡夫卡进行串联起来的，","role":2},{"text":"然后每个步骤完成以后，我会呃路由到下个步骤，然后是嗯有一个抽样方法，","role":2},{"text":"它是哪一个操作，我是否要执行到现有步骤，","role":2},{"text":"然后","role":2},{"text":"有一个模有一个策略，然后执行具体执行到哪个步骤，然后每个步骤里面它的方法其实是比较","role":2},{"text":"你的嘛。","role":2},{"text":"嗯","role":2},{"text":"所以说一下你这个状态集是怎么设计吗？","role":1},{"text":"有哪些状态呀它怎么是流转的。","role":1},{"text":"其实我的这个状态是非常简单的，其实就就一直往下流转的一个状态，只是说为什么说","role":2},{"text":"对，我只是说类似于状态机，因为它是相当于","role":2},{"text":"它这几个步骤首先是我签到，然后到录音到分析语点到分析建流程到分析","role":2},{"text":"嗯计算得分，然后再到统计，它其实是一个顺序的流程流转过来的，","role":2},{"text":"嗯所以说它的整个状态是比较简单的，然后它其实你首先定义一个媒体内，","role":2},{"text":"媒体内里面你会定义它当前状态是什么，下一个状态路由到哪个路由哪个状态上去，","role":2},{"text":"然后接着你嗯","role":2},{"text":"写一个抽样方法，在这个抽样方法里面你就控制这个媒体内，然后它具体要","role":2},{"text":"实现到哪个方法里面去，然后你然后你再实现一个interface，这个 interface里面有","role":2},{"text":"具体的方法，然后所有的都有一个统一的呃","role":2},{"text":"嗯工厂内去把握，然后去采用各自应用使用策略模式，","role":2},{"text":"然后去能够命中你具体的哪个方法去执行，哪个类去执行相关代码。","role":2},{"text":"我已经说了不行了。","role":1},{"text":"做了一些","role":1},{"text":"还有哪些优化？","role":1},{"text":"嗯除了可扩展性以外，就是说我觉得这块其实是就是说代码的可维护性比较强，","role":2},{"text":"就是说嗯","role":2},{"text":"优化哈就是说代码里面其实很多地方优化，就是说","role":2},{"text":"你在你写方法的时候，一个方法就是说尽量不要超过50行，啊或者说","role":2},{"text":"嗯方法之间就是说","role":2},{"text":"嗯","role":2},{"text":"衣服里面语句就是说尽量不要超过三个嵌套，这些东西都是最","role":2},{"text":"保证最基本的。","role":2},{"text":"嘛","role":2},{"text":"至少你的代码就是说能够","role":2},{"text":"可","role":2},{"text":"维护性比较可","role":2},{"text":"可靠性比较强。","role":2},{"text":"嘛第二点就是说我们现在就是说要求就是说有一些利用AI的一些算法，就是说","role":2},{"text":"他每次就是说实现完后，他会给一些建议，你可以通过这些建议来个","role":2},{"text":"让你的代码能够更加的","role":2},{"text":"可嗯更加的可靠。吧","role":2},{"text":"嗯那你就是用卡夫卡对流量","role":1},{"text":"进一步进行相关的证，","role":1},{"text":"主要主要是什么接口？啊","role":1},{"text":"嗯是这样的，就是说我们的录音数据相当于是由嗯上游推送过来的，它其实就是说我们无法保证上游推送过来的，它的","role":2},{"text":"的那个一一秒钟能推送多少次。","role":2},{"text":"嗯当时我们是这样的，嗯上游最大的情况下一秒钟它推送了1000次，","role":2},{"text":"而我们的而每个推送因为他们有跟我们的沟通接口，他一个io每个io都能占到几十KB的，","role":2},{"text":"所以说我们这时候当他当我们说到这个","role":2},{"text":"嗯上游的推送过来请求的时候，我们首先是会把它丢到卡板里去，","role":2},{"text":"这个里面这个卡的卡里面我是存在一个什么CAD的一个概念，","role":2},{"text":"然后同时我会把这个io数据先往那落地式里面去丢，这样的话就是说不直接从数据库里面去，","role":2},{"text":"这样的话也能够降降低它对我们这个","role":2},{"text":"接口的呃唉这个接口的那个请求量，","role":2},{"text":"能够快速的响应相关数据，然后接着我会在卡不卡收到数据以后，然后我会再慢慢的去处理这个请求。","role":2},{"text":"也就是说现在你是先就他调你接口，首先你先把数据存在外地，然后扔到卡不卡里面去，然后再去消费消费进行一个","role":1},{"text":"那个问题是里面","role":1},{"text":"嗯有多大，你数据不是很很多，我们会把它撑爆。啊","role":1},{"text":"嗯倒不会，因为我们卡不卡消费其实也是有一定的速度的。","role":2},{"text":"然后热第四其实我们当时也是用了16g的专门做这个处理的，","role":2},{"text":"为什么为什么不直接往卡款丢？是因为因为一个l请求量它其实有时候我也无法控制，","role":2},{"text":"就按上游它对我们这边的请求量，","role":2},{"text":"如果太大的话，它卡不卡那个","role":2},{"text":"它本地那个嗯网消息它是有一个限制数的，如果你想调大的话，它除非从卡不卡，","role":2},{"text":"所以网络的使用就也是","role":2},{"text":"嗯一个目前适合我们的一个方法。","role":2},{"text":"就是说当我们消费的时候，我们","role":2},{"text":"从瑞森取出来以后，我会","role":2},{"text":"直接把","role":2},{"text":"把瑞森这条消息给","role":2},{"text":"消嗯去删除掉，所以说也不会占用太大的空间。","role":2},{"text":"16区，","role":1},{"text":"然后","role":1},{"text":"十六局一条信息预计有多少。","role":1},{"text":"一条信息大概是占的是","role":2},{"text":"嗯最啊少的话是在1KB左右，大的话在15KB左右，","role":2},{"text":"15~16KB。","role":2},{"text":"嗯嗯","role":2},{"text":"会不会出现说你卡夫卡上面有消息，但是你卖的是里面的数据已经没了的这种情况。","role":1},{"text":"嗯如果是卡夫卡有消息说这次没了这个情况，这样子我们是这样处理的，","role":2},{"text":"就是说它本身我们可以让就是说上游再重推消息这一种情况。","role":2},{"text":"第二种情况是我们嗯上游那边他会提供一个那种","role":2},{"text":"嗯嗯","role":1},{"text":"嗯相当于查询的机制，就是说我们会通过这个消息ID再去","role":2},{"text":"上要再去重新获取到这个消息。","role":2},{"text":"是不是？这","role":2},{"text":"也能够保证最终的数据的准确的。","role":2},{"text":"那如果是外地是有，但是卡不卡上面有没有信息。","role":1},{"text":"呢嗯外地是有卡不卡没有，这个就是说你要在这个先后顺序有问题的。","role":2},{"text":"首先我们在就是说","role":2},{"text":"呃我们是如果是相当于我先发送","role":2},{"text":"就是说我们写卡不卡和写出历史的一个顺序数据一致性的问题的，","role":2},{"text":"就是说我呃让我想一想，因为应该是我们先要发送","role":2},{"text":"卡不卡发送成功以后再往这里面写。","role":2},{"text":"嗯都会出现。","role":1},{"text":"嗯就会出现卡夫卡有，但是外地是没有这种情况。","role":1},{"text":"一个小时就去查是吧？","role":1},{"text":"是再去查，这样也能保证的。","role":2},{"text":"还有其他好的办法吗？","role":1},{"text":"那再假如说你现在","role":1},{"text":"是吧？卡夫卡里面就是因为卡夫卡消费很快，你你先写卡夫卡，然后再放到外地生，其实会","role":1},{"text":"会很多出现这种情况，导致你都要去查","role":1},{"text":"上游的一个信息，","role":1},{"text":"有没有更好的办法，","role":1},{"text":"或者说你先","role":1},{"text":"有其他办法就是","role":1},{"text":"出现这种情况，你一方面类似的话，那方法是不太靠谱的。","role":1},{"text":"嗯方法虽然不太靠谱，但是的确当时我们也我当时也想着有有也在在尝试有多种方式，","role":2},{"text":"嗯其实当时本来肯定放数据库肯定是不是很靠谱，因为当时我们第一次最开始的时候也是往数据库里丢的，","role":2},{"text":"但是数据库唉我太","role":2},{"text":"大了，然后导致整个","role":2},{"text":"线路路线出现","role":2},{"text":"出现了阻塞，所以我们当时就把","role":2},{"text":"就没有考虑数据库这种方式。","role":2},{"text":"呃瑞丽斯这种方式其实是我当时是比较倾向的，","role":2},{"text":"因为因为的确现在就是说","role":2},{"text":"嗯瑞迪斯这种呃你如果担心","role":2},{"text":"卡不卡消费速度过快或者什么东西，","role":2},{"text":"其实我觉得呃当时","role":2},{"text":"是呃","role":2},{"text":"你","role":2},{"text":"这个我们的确是没有出现过，也没有如果说有好的方式的话，","role":2},{"text":"呃","role":2},{"text":"内存啊内存内存机制的话当时我们也考虑，但是内存机制的话你想想就是说它涉及到多个节点，","role":2},{"text":"你不可能所有节点你还要设置同步节点，所有节点内存都要同步过去，","role":2},{"text":"其实这也是很困难的一件事情。","role":2},{"text":"如果你往呃 os这里面丢，你还要涉及到网络带宽的存储这块，其实也是","role":2},{"text":"不是很好的方式。","role":2},{"text":"所以说当时我是也是想也没有采也没有特别好的方式，也只有采用瑞蒂斯这种方式来处理","role":2},{"text":"处理的。","role":2},{"text":"也的确想过很多方案，但是每一种方案都有一些欠缺点。","role":2},{"text":"嗯嗯","role":1},{"text":"噢你看一下，就是你看如果说我们从不帮到他，会看那他的原因应该是说你这个数据量大，对不对？","role":1},{"text":"对不对？数据量有放到外地市的话，因为外地市本来就不大的，","role":1},{"text":"那如果说就是现在数据量就是大，那外地市肯定是撑不住16g","role":1},{"text":"那量再大了之后，那肯定是通过这种方式通过接口去传数据，这种方式是不靠谱的。","role":1},{"text":"那","role":1},{"text":"有没有可能说","role":1},{"text":"是吧？他传一个","role":1},{"text":" URL过来或是一个","role":1},{"text":"文件地址过来，然后我们","role":1},{"text":"先保存下来，然后后台写个线程，然后去把它下载下来。","role":1},{"text":"其实有嗯其实这个刚刚我也说了，有考虑到噢上传到os上去，嘛","role":2},{"text":"但是这里面其实也涉及到一个就是说我我的那个机构消费要必须得很快，不然的话会因为上游我无法控制上游的速度，","role":2},{"text":"所以说我如果传上我上传到os4或写入到","role":2},{"text":"写入到那个磁盘，这都是占用一定的空间的，所以会导致我这边这个接口会阻塞住。","role":2},{"text":"因为我要即使。","role":2},{"text":"我是说","role":1},{"text":"我是说并不是说我们这边上传到oss而是他对方上传到我们的oss。","role":1},{"text":"嗯嗯嗯","role":2},{"text":"其实这个我也希望能够如果当时能够做到这样做是最好的。","role":2},{"text":"但是因为这个是涉及到是跟外部系统沟通，","role":2},{"text":"然后外部系统它其实有一个很麻烦处，就是说","role":2},{"text":"它的接口并不可能其实是在响应我们这边要求的，","role":2},{"text":"因为我们当时也提供很多的想需要就是说一些接口，但是他们并没有实时响应，","role":2},{"text":"所以当时也只能说是我们这边来处理这个问题。","role":2},{"text":"啊嗯","role":2},{"text":"然后我看你对就是你也在尝试，就像成员去一起进行","role":1},{"text":"做项目嘛对不对？","role":1},{"text":"你最多做了","role":1},{"text":"就是你这个项目带了多少个人一起做。","role":1},{"text":"啊这个项目带了至少最多的时候是4~5个人。","role":2},{"text":"吧","role":2},{"text":"然后嗯","role":2},{"text":"其实我在里面其实涉及到这个项目管理者角色和项目搭建，包括","role":2},{"text":"嗯其实里面遇到的问题其实也有很多，你像当时就是说在看项目初期的时候，项目要求上线很紧，","role":2},{"text":"然后工作量有很多，这个排期其实也是一个很复杂的问题，","role":2},{"text":"我们我们需要跟产品经理沟通，哪些是啊最重要紧急的事情，","role":2},{"text":"然后先把这些功能先升上去，","role":2},{"text":"然后保证在最大最有效的时间内，然后实现最大的销售收益。","role":2},{"text":"嘛","role":2},{"text":"嗯嗯","role":1},{"text":"第二个是在业务蕴藏","role":2},{"text":"啊业务正常运行过程中，你像后面我把这个项目交付给了一个新人，但是这个新人呢","role":2},{"text":"他在实现过程中，他把他出现的","role":2},{"text":"呃不雅情情况就是说导致了内存溢出，当时也是让我去配合","role":2},{"text":"排查内存如何","role":2},{"text":"排查这个相关问题的。","role":2},{"text":"那那你后面就是怎么去避免就是出现这种情况，有有什么措施吗？","role":1},{"text":"其实内存也出了这种情况，他。","role":2},{"text":"嗯对你你做了一些什么措施？","role":1},{"text":"就是再来一个新人他自己那有可能又出现。","role":1},{"text":"嗯其实本来这这种情况第一点就是通过代码review来","role":2},{"text":"能够解决这些问题的，但是因为当时因为我手上负责项目很多，","role":2},{"text":"嗯而且上一级就是说有意让我把系统交出去，","role":2},{"text":"所以说我没法避免，但是如果你像嗯如何避免啊第一步是可首先代码review could review是最","role":2},{"text":"基本的一个情况，第二部分就是说你的充分的测试，压力测试也是需要","role":2},{"text":"第三个是合理的监控，你像出现GB m内存溢出的情况下，嗯我认为大部分场景就是说","role":2},{"text":"你的不合理的那个 io的查询，","role":2},{"text":"然后导致了你的那个查询出了过多数据。","role":2},{"text":"这种情况下，你如果能够查询能够就是说一个一些合理的监控，查询出哪些请求异常的","role":2},{"text":"异常时间过于长，然后你也能够快速定位和解决相关问题，","role":2},{"text":"这些我认为是比较快速的。","role":2},{"text":"你如果一个新人来了让你去带他，你你觉得你会就是你你的培养计划怎么带他的？你","role":1},{"text":"之前是怎么带的？","role":1},{"text":"嗯首先我认为第一点就是说嗯我之前是这样的，第一点让他熟悉相关的业务，嗯","role":2},{"text":"第一呃属于相关的业务流程和业务知识，吧","role":2},{"text":"这是最重要的。","role":2},{"text":"因为你如果一个程序员对我们我们自己的负责的业务并不熟悉的话，他是无法展开相关的工作的。","role":2},{"text":"第二点就是开发语言和我们公司的一些规开发制度，也是需要他需要上手了解。","role":2},{"text":"呃例如就是说编码习惯啊 Gvm git和提交相关的内容。","role":2},{"text":"第三点就是说我会把我们具体的一些嗯嗯","role":2},{"text":"代码相关的设计和一些文档给他，让他们先嗯去熟悉相关的业务领域知识，","role":2},{"text":"和我们代码具体怎么设计的。","role":2},{"text":"第四点就是说在编写代码情况下，就是说他每次编写完我会去进行一次课的review，","role":2},{"text":"然后看一下它的编写习惯是否合适，然后它的嗯","role":2},{"text":"初年的","role":2},{"text":"第五个就是说呃","role":2},{"text":"要求他就是说每次会有我会跟他讲一些啊一些设计上的一些理念","role":2},{"text":"和评选上的一些注意点，然后让他","role":2},{"text":"慢慢的去掌握去适应这个节奏。","role":2},{"text":"嗯还有吗？","role":1},{"text":"嗯还有就是一些相关的考核，吧制定一些考核，他每每周要达到什么样的目标，","role":2},{"text":"然后他嗯这周完成了哪些事情，我认为都是需要那个的。","role":2},{"text":"还有一些就是说一些","role":2},{"text":"生活上和嗯一些就是说工作上的一些帮助，吧就是说","role":2},{"text":"嗯业余辅导，啊还有就是说技术上的一些困难，","role":2},{"text":"嗯定位协助一些让他定位一些","role":2},{"text":"从小的问题开始定位入手，然后和其他的组成员进行沟通，这些都是需要他去掌握的。","role":2},{"text":"嗯你好。","role":2},{"text":"然后我看你有负责接口的单元测试，你们是怎么做单测的？","role":1},{"text":"嗯接口单元测试是这样的，首先它是嗯你我们本身你可以做一个接口，它有apfs","role":2},{"text":"可以进行一些简单的测试。","role":2},{"text":"第二点对于每个接口里面，你根据不同场景，然后写经营的特色，然后去","role":2},{"text":"进行相关的测试，还有就是说有莫克泰斯的那种，然后代理一些相关接口。","role":2},{"text":"然后","role":2},{"text":"对对具体场景，然后然后尽量达到它的代码那个覆盖率。","role":2},{"text":"像你写的代码代","role":1},{"text":"测试的覆盖率是多少。","role":1},{"text":"呃我测试覆盖率一般在百分之只只能说","role":2},{"text":"在60%~70%左右。吧","role":2},{"text":"嗯嗯就是还剩下30%，","role":1},{"text":"不能覆盖的原因是什么？","role":1},{"text":"因为有些像一些呃远程的一些请求，或者说一些其他的一些就是说","role":2},{"text":"服务的交互，有的时候其实还有一些你像我做企业微信的时候，但企业微信的一些","role":2},{"text":"回调啊什么东西，其实很难做到百%的覆盖率的。","role":2},{"text":"还有吗？就是外部的刚才说是外部的一些接口是吧？嗯","role":1},{"text":"还有吗？就是","role":1},{"text":"除了这一方面。","role":1},{"text":"还有就是代码覆盖率里面，其实有些其实一般情况下完全无法命中的，有些为了做一些，但是你只为了那个","role":2},{"text":"所以说有时候也覆盖不了。","role":2},{"text":"你觉得单元测试的目的是什么？","role":1},{"text":"单元测试目的就是说保证你这个","role":2},{"text":"保证代码质量，嘛就是说你你的这个功能点能够就是说嗯不会出现问题。","role":2},{"text":"嗯好处","role":1},{"text":"嗯嗯","role":1},{"text":"就","role":1},{"text":"坏处是什么？","role":1},{"text":"Although so high so my friends are so it's quite often。","role":1},{"text":"坏处其实你一是","role":2},{"text":"可能程序员过","role":2},{"text":"充分的相信的这个东西，因为你的单元测试就是说你不管是再再好的程序员，你其实也是有一定的那个","role":2},{"text":"第二点就是说我认为就是说","role":2},{"text":"嗯怎么说，呢因为你要考你要你写单元测试其实很","role":2},{"text":"占用很大时间的，你要考虑很多情况，然后每个情况，而且还要根据不同的，因为还要配置个不同的环境，","role":2},{"text":"所以说这块其实很真要是","role":2},{"text":"开发时间的确很占用开发时间，","role":2},{"text":"而且有些单元测试很麻烦，因为你像我做企业微信的时候，这些场景的体验条啊和不同，那个","role":2},{"text":"真的是","role":2},{"text":"嗯","role":2},{"text":"业务很无奈的有的时候。","role":2},{"text":"然后我再看一下你的技技能特长的话是属于买熟悉买max跟买best plus的","role":1},{"text":"这两个框架是吗？","role":1},{"text":"嗯基本上都会都","role":2},{"text":"比较熟悉。吧","role":2},{"text":"那你有写过my best的活塞的插件吗？","role":1},{"text":"其实这倒没有，因为我觉得这个东西就是说你是","role":2},{"text":"用的时候再写其实也来得及，还有网上很多现成的，","role":2},{"text":"因为也没必要写特别大的，","role":2},{"text":"你也要实现买牌子扩展，也就是那个嗯有个intercept，吧还有那个 My best里面有一些","role":2},{"text":"扩展类型的，然后跟你只要找到一些相关的切入点，然后来实现对应的类型，","role":2},{"text":"或实现指定的SQL语句，","role":2},{"text":"就差不多就能解决的。","role":2},{"text":"我刚才在项目中也听到你说用WiFi是你要看，","role":1},{"text":"刚你你对了三我看你写了三个概念，那这三个概念的区别是什么？","role":1},{"text":"呃嗯","role":2},{"text":"瑞迪斯。","role":2},{"text":"嗯嗯","role":2},{"text":"你点一下缓缓存穿透，雪崩。","role":1},{"text":"噢噢你说这个是吧？","role":2},{"text":"首先嗯缓存穿透是这样的，就是说如果你这个","role":2},{"text":"嗯如果我","role":2},{"text":"我我有条有有条数据嘛其实在数据库里面在数据库里面不存在，但是其实在release里面按正常情况下它是不会再存储下来的。","role":2},{"text":"这样的话每次他请求进来以后，我都会","role":2},{"text":"直接导到数据库里去，然后这样的话就是缓存穿透嘛是不是？","role":2},{"text":"解决缓存穿透的两种形式，第一个是你把不存在的数据。","role":2},{"text":"你刚才说那个是击穿还是穿透？呀","role":1},{"text":"换成穿透。","role":2},{"text":"那击穿是什么意思？","role":1},{"text":"缓存击穿是相当于是呃","role":2},{"text":"就是说呃大量的数据，同时网络","role":2},{"text":" ready上面查，这个时候其实ready是","role":2},{"text":"呃对瑞丽斯的量","role":2},{"text":"考验是比较大的。","role":2},{"text":"呃那穿透跟击穿的区别是什么？","role":1},{"text":"穿透是相当于就是说呃我直接穿透是相当于直接","role":2},{"text":"呃跳过","role":2},{"text":" release查完没查到嘛直接往数据库里面查，这样的话数据库它对数据库压力是","role":2},{"text":"比较大的。","role":2},{"text":"嘛","role":2},{"text":"所以说这时候你要采用不同过滤器，或者说把控制存取出来，然后避免","role":2},{"text":"缓存穿透问题。嘛","role":2},{"text":"什么场景？他们出现的场景其实都是因为说","role":1},{"text":"缓存没有，但是数据库要去查数据库，啊它产品都这样，但是什么产品它们是有区别的。","role":1},{"text":"什么产品","role":1},{"text":"什么场景是不一样的，c穿跟穿透场景是不出现的，场景是不一样的。","role":1},{"text":"嗯击穿我觉得出现场景应该是相当于是它是非常大量的请求，然后同一时间网络里面打，","role":2},{"text":"这个时候瑞迪斯本身它其实是比较难以应对的，这时候应该需要加上本地","role":2},{"text":"嗯多级缓存来去应对这个问题。","role":2},{"text":"然后穿透主要是你本身你在瑞电视里面去已经查不到，然后你往已经往数据库里面去打了。","role":2},{"text":"嗯那雪崩雪崩要是呃。","role":1},{"text":"缓存雪崩是呃瑞丽是在就是说。","role":2},{"text":"大量的瑞丽大量的可以在同一机机啊在同一时间去失效的，然后导致你你整个缓存","role":2},{"text":"会出现问题，然后。","role":2},{"text":" you can say on here。","role":1},{"text":"就是说大量因为大量的k码在同一在接近同一时间然后失效了，然后你的数据量就是说你重新你需要重新写出一次重新查数据库，","role":2},{"text":"这时候你会导致缓存的一个雪崩吗？","role":2},{"text":"嗯嗯","role":2},{"text":"嗯然后我看","role":1},{"text":"那我也得是一般你们在什么场景下会用？","role":1},{"text":"呃瑞迪斯其实用了场景，就是说我们在几个场景，第一个是呃缓存数据吧加快速度查查询的效率，","role":2},{"text":"第二个是做一些限流策略，然后可以用到这意思。","role":2},{"text":"第三个是呃做分布式锁的时候用到一些。","role":2},{"text":"限流，用到WiFi是是指是指怎么用？","role":1},{"text":"就是说你像做呃","role":2},{"text":"你像一些漏斗筒啊令牌筒啊这些实验方略和滑动窗口，你都可以用热热力实现，","role":2},{"text":"然后在网关里面，然后请求过来的时候，你可以通过瑞士来做心理操作，嘛","role":2},{"text":"基于历史来做心理操作。","role":2},{"text":"嗯你觉得是基于它的哪个原理啊我可以做？","role":1},{"text":"这个","role":1},{"text":"就是它用了它来实现，是因为它有什么特性所以才用才用的？","role":1},{"text":"嗯首先说DC是本身就是说在它其实类似于单线程嘛是吧？","role":2},{"text":"这个性质就是说你的数据可以就是说呃立马就是写完后就是说能够查询出来吗？","role":2},{"text":"你像一些最简单的话，就是现在衣服office的这种方式，就是说你可以避免就是说他从","role":2},{"text":"嗯但是请求这种","role":2},{"text":"呃嗯","role":2},{"text":"数据的实时可见的这种可以能够","role":2},{"text":"嗯嗯特性。","role":2},{"text":"吧","role":2},{"text":"还有就是说瑞迪斯特","role":2},{"text":"最终还是可行性问题。吧","role":2},{"text":"嗯","role":2},{"text":"然后","role":1},{"text":"我看你手机登布鲁斯的技术站艾瑞卡，","role":1},{"text":"艾瑞卡是做什么事情的？","role":1},{"text":"艾瑞克是做注册中心的吗？","role":2},{"text":"然后其实拉克斯也是一样的。","role":2},{"text":"那为什么两个都用呢？","role":1},{"text":"啊","role":1},{"text":"就是两个都用了吗？都用来做注册中心，吗其实。","role":1},{"text":"耐克和伊瑞克都是做注册中心的，就是说不同的嗯","role":2},{"text":"就是说不同的公司它其实采用的那个","role":2},{"text":"这个框架不一样，你像在那个我们上家公司是用耐克斯做注册中心和配置中心的，","role":2},{"text":"比如卡尔主要做注册中心，然后它其实实现机制也是有多少有点差别的。","role":2},{"text":"那他们的差别是什么？","role":1},{"text":"嗯你像那 Cos里面它是其实是有两个协议，吧一个是rap协议，一个是第第三个协议。","role":2},{"text":"然后一位看里面它其实是相当于是用的是","role":2},{"text":"三级缓存的方式，然后来","role":2},{"text":"保证AP的一致性吗？","role":2},{"text":"那就是我们在用它的时候","role":1},{"text":"需要关心的这些吗？就是我们假如这就这两个组件让你去选型，那你","role":1},{"text":"到底是选艾瑞卡还是max最核心的考虑是什么？","role":1},{"text":"其实最考最核心考虑，我觉得一是本身其实这两个功能其实基本上都差不多的，","role":2},{"text":"然后我最核心考虑是可能是成本问题，","role":2},{"text":"因为莱克斯它既能做注册中心，又能做配置中心，","role":2},{"text":"对于，而且它是阿里系的框架，然后跟阿里云又有一定的那个绑定，","role":2},{"text":"所以说我可能在这家公司，如果我更考虑倾向于南cos。","role":2},{"text":"网关主要做什么事情？","role":1},{"text":"呢","role":1},{"text":"网关是主要作为一一它有几个它有很多作用，第一个是它是作为分发嘛是最基本的，","role":2},{"text":"第二个就是说它也可以做一些限流和降级，第三个它可以做那个安全","role":2},{"text":"控制，第四个它可以做呃业务的合并操作，","role":2},{"text":"这些都可以做的。","role":2},{"text":"因为他说是之前","role":1},{"text":"啊","role":1},{"text":"它相当于就是说如果你有一个有有有你可以把多个请求合成一个请求，然后在网关里面暴露出去，","role":2},{"text":"然后网关会把内部的几个请求，然后的数据组装成一个请求，一个数据结果即返回过去，","role":2},{"text":"是可以做这个事情。","role":2},{"text":"把。","role":2},{"text":"内部的多个接口是一个逻辑合并在一起，暴露给前端是","role":1},{"text":"前端的v二v三框架。","role":1},{"text":"嗯因为我好久没用v三的，v二我是非常熟悉的，因为我之前就是说也是开发过相关的功能，","role":2},{"text":"然后整个项目也给我搭建起来，当时。","role":2},{"text":"然后我看你自我评价还是挺","role":1},{"text":"挺好的，自我驱动有强烈的自我驱动，还有工作热情，就是在技术上方面上面现在你的规划是什么样子，还有在学什么","role":1},{"text":"方面的","role":1},{"text":"知识。","role":1},{"text":"嘛其实技术上面我是一直在也就是说引入自自己，就是说","role":2},{"text":"嗯也是一是往深的方面发展，嘛就是说像一些一些最近的一些技术主流框架，我随便的可靠的系列，阿里巴巴系列我都会有了解。","role":2},{"text":"淘宝系列的。","role":2},{"text":"然后第二步就是说一些其他的语言，我也会嗯在尝试在学习，像go语言啊","role":2},{"text":"这些东西。然后第三点就是说一些嗯你像目前最主流的是AI框架，嘛","role":2},{"text":"这些东西我其实也是在也是在吸取，然后积极看看能不能引入到项目中。","role":2},{"text":"第四个呢我觉得是比较热情，我觉得自己啊比较有优势就是说","role":2},{"text":"什么呀嗯我认为技术跟业务是紧密相关的，然后相关的嗯一些","role":2},{"text":"基地思想我也是","role":2},{"text":"在不断学习，我认为这些思想也是在开发过程中需要注意的一些东西。","role":2},{"text":"你学学习了很多框架，那这些框架你就是学完了之后，你最大感受是什么？","role":1},{"text":"其实我觉得框架最大感受就是说一是","role":2},{"text":"很多协议都是互通的，","role":2},{"text":"像我们在做呃技术的选型，像十分可靠的啊这些东西，其实的确很方便我们学学习。","role":2},{"text":"当然一些技术底层的一些实现，你像呃例如例如那种呃环状的","role":2},{"text":"呃嗯","role":2},{"text":"环环状链路结构能够实现一些像啊你像马赛口音的DB里面那些","role":2},{"text":"巴菲尔破或者瑞瑞德洛格那种的记录方式，或者说是release里面组成同步，用环状","role":2},{"text":"结构","role":2},{"text":"这样的一些互通性，你像卡鲁卡为什么用rap协议，","role":2},{"text":"或者说呃莱克斯为什么用rap协议，这里面协议","role":2},{"text":"你也可以根据这些东西，然后在你的代码中可能也会用到一些相关的思想。","role":2},{"text":"唉","role":2},{"text":"就是通过通过这些思想，你能够就是说能够更快的能够给在日常生活中能够给你一个解决思路，是这样的，我认为。","role":2},{"text":"那今天你在看的框架是哪个？呀","role":1},{"text":"其实我在看的就是说是double。吧","role":2},{"text":" Double是吧？嗯","role":1},{"text":"好。","role":1},{"text":"那","role":1},{"text":"那否最你觉得最巧妙的设计是什么？","role":1},{"text":"是哪个？","role":1},{"text":"其实double里面设计还是很多的，然后首先它的rpc框架，然后它的一些","role":2},{"text":"呃限流策略，还有spi啊还有它的那个","role":2},{"text":"反向代理技术都是很","role":2},{"text":"我觉得每个","role":2},{"text":"都有它各自的特点，然后包括它的注册中心这些，","role":2},{"text":"其实我觉得","role":2},{"text":"都很巧妙。","role":2},{"text":"Spi。","role":2},{"text":" ssps嗯大部分。","role":1},{"text":"它本身自己实现的一套spi嘛","role":2},{"text":"嗯啊代替不大的方式，嘛是不是？","role":2},{"text":"嗯那是ps做什么事情？","role":1},{"text":"就是说","role":2},{"text":"怎么说呢 Java spa相当于你可以就是说选择就是说它可以把一系列的那个 interface","role":2},{"text":" interface的实现都加到里面去，然后你选择某一个interface去进行","role":2},{"text":"一个加载，它嗯跟","role":2},{"text":"跟那个","role":2},{"text":"怎么是","role":2},{"text":"那个有点像你你就相当于你的那个 mic和驱动类都是也是类似于SP I","role":2},{"text":"发热去实现的。","role":2},{"text":"嗯嗯","role":2},{"text":"解决的问题是什么？","role":1},{"text":"解决问题是可嗯伸缩的引用那些加包，吧就是说我想double里面，我假如说我的注册中心，我是想用它cos，","role":2},{"text":"或者是想用那个 zookeeper，然后我在spa里面配置一下，","role":2},{"text":"使用具体的使用哪个，然后去加载这个对应的类就行了。","role":2},{"text":"嗯在具体的业务过程中，在我们业务实践过程中有","role":1},{"text":"要使用这个技术。","role":1},{"text":"嗯在具体业务实现中，其实我这边其实用的不算多，但是那你像","role":2},{"text":"呃你如果要做一些可扩展性的插件，这些东西像spring的呃","role":2},{"text":" spring里面那个奥特孔斯克瑞森它其实也是spa的一种","role":2},{"text":"实验方式，嘛","role":2},{"text":"然后如果你要做一些扩展性的一些插件，也可以基于spring的奥特孔飞身，","role":2},{"text":"然后来实现spi。","role":2},{"text":"今天还在一起打斗是吧？","role":1},{"text":"是也还在看。","role":2},{"text":"那他的协议是是什么样子的。","role":1},{"text":"嗯具体具体协议它单位本身它有一个自己自己的协议，然后里面的一些细节点其实","role":2},{"text":"你嗯我我也","role":2},{"text":"因为有这些具具体协议里面某些参数，","role":2},{"text":"前面也是几个字节占什么，呀后面几个字节占什么，其实我也没有","role":2},{"text":"记得特别深，反正其实他本身double这个协议也就是为他自己量制化定制化写的，","role":2},{"text":"其实协议跟那个训练化然后组合成一起，然后再加上来起，然后形成了一个本身的基","role":2},{"text":"基本的rpc框架吗？","role":2},{"text":"因为你执行一个框架的话，你觉得","role":1},{"text":"自己学到什么程度，你就觉得自己","role":1},{"text":"就","role":1},{"text":"就可以了。","role":1},{"text":"就是就就不会继续往下。","role":1},{"text":"嗯我觉得就是说也不是什么程度。","role":2},{"text":"嗯也。","role":1},{"text":"不是说其实每个框架你其实都是要实时去跟进的，","role":2},{"text":"然后学到什么程度，也不是说完全不能，也不是说","role":2},{"text":"因为这毕竟一个框架，他们在实践中它其实是非常多的，然后我觉得要写到什么程度算是可以，就是说","role":2},{"text":"当你遇到一个问题的时候，你能够迅速的定位到这个问题是在这个框架里面哪个地方可能会出现","role":2},{"text":"问题，然后这个地方它的实现","role":2},{"text":"位置是在哪个位置？","role":2},{"text":"我觉得这个然后这个框架里面哪些优点，我们可以采用，哪些缺点我们要去避免，","role":2},{"text":"哪些坑不能去触触碰的。","role":2},{"text":"这些是","role":2},{"text":"我觉得学习到这个程度也算是勉勉强强的。","role":2},{"text":"你有一个框架就是新的框架，你","role":1},{"text":"你会怎么去学习它？你有没有总结过自己学习框架的一个套路或者一些步骤？","role":1},{"text":"首先是","role":2},{"text":"当你面临的一个新的框架，首先你肯定第一步，你首先要先要了解它的相关的官方文档，","role":2},{"text":"你要知道这个框架它整体要做什么东西。","role":2},{"text":"第二个就是说如果在条件允许范围内，你肯定要把这个框架能够启动运行起来，","role":2},{"text":"然后你要知道里面具体有哪些业务逻辑。第三个是你要在接入这个框架，在你的代码里面去进行接入，","role":2},{"text":"然后熟悉这个框架，就是说它的使用方式。","role":2},{"text":"第四个然后看一下，","role":2},{"text":"根据这个代码，你打开这个项目，把这个框架拉下来，看一下它的整体结构，","role":2},{"text":"然后看一下","role":2},{"text":"整体结构需要它有哪些模块儿。第五个是","role":2},{"text":"你我习惯性的看一下它引入了哪些包，这些包里面基基本上能够知道它嗯","role":2},{"text":"实现的一些策略。","role":2},{"text":"第六个是具体的，然后看一下你感兴趣的方面，然后往里面去着重的去","role":2},{"text":"看一下相关的一些细节内容。呢","role":2},{"text":"你自己有什么缺点吗？","role":1},{"text":"嗯嗯","role":1},{"text":"你觉得自己有什么缺点吗？","role":1},{"text":"呃嗯","role":2},{"text":"这有些什么缺点，其实我目前是按照这么学习的，但是就是说","role":2},{"text":"你先从整体把控，然后再慢慢慢的往某个细节性去弄的话，我觉得倒没有什么太","role":2},{"text":"太大的问题。","role":2},{"text":"吧","role":2},{"text":"然后主要是就是说是","role":2},{"text":"呃每个点细节看起来的确很费时。","role":2},{"text":"近，","role":2},{"text":"然后你像有些框架double的话比较简单，你也可以看的比较那个","role":2},{"text":"你像卡夫卡那些本身的","role":2},{"text":"克兰特那个东西，你你想跟进都没法跟进，所以说这个我这个东西其实你只能往就是说","role":2},{"text":"根据文档一步一步往前","role":2},{"text":"看，","role":2},{"text":"可能是比较","role":2},{"text":"你要看同步和异步的那种方式。","role":2},{"text":"吧","role":2},{"text":"我了解的大概差不多，你这边有需要问我的问题吗？","role":1},{"text":"嗯我其实想问一下嗯你们贵公司，就是说现在你们所做的一些","role":2},{"text":"业务是什么？","role":2},{"text":"行可以，啊就是我们唉乐信你是你听说过吗？嗯听说过。","role":1},{"text":"他是做那个","role":2},{"text":"金融方面的吗？","role":2},{"text":"啊对，我们这边是做金融的，那金融方面我们主要是做助贷业务的。","role":1},{"text":"助贷业务也就是说我们其实在用户跟银行，假如说银银行这些资方就我们怎么帮助银行借的款，","role":1},{"text":"不帮助用户借的款在银行里面借款，这我们做的就是一个巨大的一个平台，帮助银行帮助用户","role":1},{"text":"怎么怎么追踪，因为平时我们正常情况下，我们可能去银行去贷款是吧？","role":1},{"text":"那可能要走很长的流程，但有我们助贷之后，其实我会把这个流程给缩短了，","role":1},{"text":"那我会帮助银行帮助把握风控，然后也帮助用户是吧？怎么把这个流程简化了以后借到这个款，那我们的流程就是信贷流程项目，","role":1},{"text":"你在花呗啊借呗啊那种就是这类型的一个业务，","role":1},{"text":"我们现在这个部门呢就叫做","role":1},{"text":"金融授课，其实我们也是做这方面的业务，但是我们有区别，就是我们其实现在是","role":1},{"text":"每相当于把我们的系统就是刚刚说的那些系统去部署到银行里面，就是","role":1},{"text":"跟每个银行","role":1},{"text":"做系统，","role":1},{"text":"做信贷系统。","role":1},{"text":"现在就是我们这个新部门的一个","role":1},{"text":"的业务，然后目前呢就是我们是这个业务目前已经是第三个年头了，目前的话","role":1},{"text":"嗯业务发展呢就目前是这一年今年是发力的一个阶段，","role":1},{"text":"就是说前两年我们已经做好了，也就是","role":1},{"text":"就是方向上的一些把控，还有","role":1},{"text":"定位。","role":1},{"text":"嗯","role":1},{"text":"然后我先说一下我们的团队，吧","role":1},{"text":"嗯目前我们团队有20多个人，我们目标今年","role":1},{"text":"今年的话大概是要30 30多个人，","role":1},{"text":"然后桥段。","role":1},{"text":"对30多个人。","role":1},{"text":"然后","role":1},{"text":"嗯","role":1},{"text":"暂时没有了，就就我们的技术站吧技术站就是我们是","role":1},{"text":"基于是病人的发布的一个","role":1},{"text":"微服务框架，然后我们现在是是游戏化部署的，","role":1},{"text":"嗯像目前我们团队遇到的一些困难点，就是说","role":1},{"text":"我们怎么样","role":1},{"text":"把一套代码","role":1},{"text":"部署到多家银行。","role":1},{"text":"其实这点的确是一个，因为每个银行的可能它的特色还不一样。","role":2},{"text":"嗯对，所以我们现在就怎么做标准化，怎么做","role":1},{"text":"实施我们目前当前团队，就是我们后面的一个就","role":1},{"text":"探索方向吧是一个标准化。","role":1},{"text":"一个插件化和一个那个定制化的","role":2},{"text":"分支的管理其实也是一个比较重要的。","role":2},{"text":"嗯嗯大概就是这样子的。","role":1},{"text":"没有其他嗯。","role":1},{"text":"暂时其实我应该知道掌握差不多的。","role":2},{"text":"嗯好的，嗯那我们时间也差不多了那今天。","role":1},{"text":"就","role":1},{"text":"感谢你参加我们的面试，嗯谢谢。","role":1},{"text":"嗯","role":1},{"text":"好，那就这样了，拜拜嗯拜拜。","role":1}]}